### ------------- PERSONAL PREFERENCE --------------###

# Gitview (Pretty Git Log)
alias gitview="git log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold cyan)%aD%C(reset) %C(bold green)(%ar)%C(reset)%C(bold yellow)%d%C(reset)%n''          %C(white)%s%C(reset) %C(dim white)- %an%C(reset)' --all"

# git_watch
export PATH="$HOME/Documents/git-watch:$PATH"

# Functions to jump straight to a workspace
workondirectory() {
  cd $1
  git fetch &
  tree
  git status
}

# Default editors
export EDITOR=vim
export VISUAL=vim

# Source my personal python packages
export PYTHONPATH="$HOME/Documents/pyniel:$PYTHONPATH"

# Aliases
alias ml3env="source ~/ml3/bin/activate"
alias rospyenv="source ~/rospyenv/bin/activate"
alias wopepper="workondirectory ~/Documents/pepper_ws/src/asl_pepper && source ./.bashrc"
alias woaslslam="workondirectory ~/Documents/pepper_ws/src/asl_pepper/asl_slam && source ~/Documents/pepper_ws/devel/setup.bash"
alias easytensorboard="source ~/ml3/bin/activate && tensorboard --logdir=/tmp/tf/tensorboard"
alias swim="nautilus ."
rm() {
    if [[ $@ == "-rf ~" ]]; then
        echo "HELL NO"
    elif [[ $@ == "-rf /" ]]; then
        echo "OH HELL NO"
    else
        command rm "$@"
    fi
}

export PATH="$HOME/Documents/simple-sync:$PATH"
# Quick mathematical python
alias py="ml3env && ipython --pylab"

# Replace the PS1 setup lines with this in code above to enable git branch display
function parse_git_branch () {
  git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/ (\1)/'
}
PS1='${debian_chroot:+($debian_chroot)}\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\w\[\033[00m\] $(parse_git_branch)\$ '

# Run this only once if application windows don't get foregrounded when you launch the application:
# dconf write /org/compiz/profiles/unity/plugins/core/focus-prevention-level 0

git-watch --quiet &
git-watch --bad-only --no-fetch

# Create personal man pages
umedit() { mkdir -p ~/man; vim ~/man/"$1.txt"; }
um() { 
  if [ -z "$1" ]; then
    echo "Manuals for the following functions are available: "
    ls ~/man | sed -e 's/\.txt//g'
  else
    less ~/man/"$1.txt"
  fi
}

### ------------- COMPUTER SPECIFIC  --------------###

###     oceanus
if [ $MACHINE_NAME = oceanus ]; then
# added by Anaconda2 4.0.0 installer
  export PATH="$HOME/anaconda2/bin:$PATH"
fi

###     prometheus
if [ $MACHINE_NAME = prometheus ]; then
  # Matlab
  alias matlab="/usr/local/MATLAB/R2018a/bin/matlab"
  # Pepper ros project
  source ~/Documents/pepper_ws/devel/setup.bash
  export PYTHONPATH="$PYTHONPATH:$HOME/Documents/pynaoqi-python2.7-2.5.5.5-linux64/lib/python2.7/site-packages"
  # Segmap ros project
  alias source_segmap="source ~/Documents/segmatch_ws/devel/setup.bash"
  alias wosegmap="source_segmap && roscd segmapper && cd .."
  # Group share
  mountgroupshare() {
    mkdir -p /media/groupserver
    echo "Password for ETH ASL group share (mystudies password): "
    read -s password
    sudo mount -t cifs -o vers=2.0,username=dugasd,password=$password //nas12.ethz.ch/mavt_iris_asl_1 /media/groupserver/
  }
fi

###     Pepper laptop
if [ $MACHINE_NAME = pepper_laptop ]; then
  source /opt/ros/kinetic/setup.sh
  source ~/Documents/pepper_ws/devel/setup.bash
  export PYTHONPATH="$PYTHONPATH:$HOME/Documents/pynaoqi-python2.7-2.5.7.1-linux64/lib/python2.7/site-packages"
  alias activateboostmode1000="sudo ethtool -s enp0s31f6 speed 1000 duplex full"
fi

